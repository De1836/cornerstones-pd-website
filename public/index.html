<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="/public/style.css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Smart Electric Trash Can – Survey</title>
</head>
<body>
  <header style="text-align: right; padding: 10px 20px;">
    <a href="/admin" style="text-decoration: none; color: #4a6fa5; font-weight: bold;">Admin Panel</a>
  </header>
  <main class="container">
    <h1>Smart Electric Trash Can – Goals and Users Survey</h1>

    <section class="card">
      <h2>Survey Form</h2>
      <form id="surveyForm" novalidate>
        <p class="muted">This short survey is about trash management and smart/electric trash cans. It takes about 5–8 minutes. Your answers are anonymous and voluntary.</p>

        <fieldset>
          <legend>Do you consent to participate? *</legend>
          <div class="options">
            <label><input type="radio" name="consentParticipate" value="Yes" required /> Yes</label>
            <label><input type="radio" name="consentParticipate" value="No" /> No</label>
          </div>
        </fieldset>

        <fieldset>
          <legend>Are you currently a student? *</legend>
          <div class="options">
            <label><input type="radio" name="studentStatus" value="Yes, high school" required /> Yes, high school</label>
            <label><input type="radio" name="studentStatus" value="Yes, college/university" /> Yes, college/university</label>
            <label><input type="radio" name="studentStatus" value="No" /> No</label>
          </div>
        </fieldset>

        <fieldset>
          <legend>How often are you personally responsible for taking out or managing household or shared-space trash? *</legend>
          <div class="options">
            <label><input type="radio" name="responsibility" value="Always or most of the time" required /> Always or most of the time</label>
            <label><input type="radio" name="responsibility" value="About half the time" /> About half the time</label>
            <label><input type="radio" name="responsibility" value="Rarely" /> Rarely</label>
            <label><input type="radio" name="responsibility" value="Never" /> Never</label>
          </div>
        </fieldset>

        <fieldset>
          <legend>Where do you primarily manage trash? (Select one) *</legend>
          <div class="options">
            <label><input type="radio" name="location" value="On-campus dorm/residence hall" required /> On-campus dorm/residence hall</label>
            <label><input type="radio" name="location" value="Off-campus shared apartment/house with roommates" /> Off-campus shared apartment/house with roommates</label>
            <label><input type="radio" name="location" value="Off-campus apartment/house living alone or with partner/family" /> Off-campus apartment/house living alone or with partner/family</label>
            <label><input type="radio" name="location" value="Office/lab/classroom or studio" /> Office/lab/classroom or studio</label>
            <label class="other-inline">
              <input type="radio" name="location" value="Other" /> Other (please specify):
              <input type="text" name="locationOther" placeholder="Specify other" />
            </label>
          </div>
        </fieldset>

        <fieldset>
          <legend>What is your main goal for using a smart/electric trash can? (Choose one) *</legend>
          <div class="options">
            <label><input type="radio" name="mainGoal" value="Reduce odors" required /> Reduce odors</label>
            <label><input type="radio" name="mainGoal" value="Reduce overflow or number of trips to take out trash" /> Reduce overflow or number of trips to take out trash</label>
            <label><input type="radio" name="mainGoal" value="Keep hands clean (no touching lids)" /> Keep hands clean (no touching lids)</label>
            <label><input type="radio" name="mainGoal" value="Keep pests (bugs/gnats/rodents) out" /> Keep pests (bugs/gnats/rodents) out</label>
            <label><input type="radio" name="mainGoal" value="Save space by compacting trash" /> Save space by compacting trash</label>
            <label><input type="radio" name="mainGoal" value="Reminders/alerts to take out trash" /> Reminders/alerts to take out trash</label>
            <label class="other-inline">
              <input type="radio" name="mainGoal" value="Other" /> Other (please specify):
              <input type="text" name="mainGoalOther" placeholder="Specify other" />
            </label>
          </div>
        </fieldset>

        <fieldset>
          <legend>How much of a problem are these in your current trash setup? *</legend>
          <div class="matrix-wrapper">
            <table class="matrix">
              <thead>
                <tr>
                  <th>Issue</th>
                  <th>1</th>
                  <th>2</th>
                  <th>3</th>
                  <th>4</th>
                  <th>5</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Odors/smell</td>
                  <td><input type="radio" name="prob_odors" value="1" required></td>
                  <td><input type="radio" name="prob_odors" value="2"></td>
                  <td><input type="radio" name="prob_odors" value="3"></td>
                  <td><input type="radio" name="prob_odors" value="4"></td>
                  <td><input type="radio" name="prob_odors" value="5"></td>
                </tr>
                <tr>
                  <td>Trash can overflow</td>
                  <td><input type="radio" name="prob_overflow" value="1" required></td>
                  <td><input type="radio" name="prob_overflow" value="2"></td>
                  <td><input type="radio" name="prob_overflow" value="3"></td>
                  <td><input type="radio" name="prob_overflow" value="4"></td>
                  <td><input type="radio" name="prob_overflow" value="5"></td>
                </tr>
                <tr>
                  <td>Leaks/mess when removing the bag</td>
                  <td><input type="radio" name="prob_leaks" value="1" required></td>
                  <td><input type="radio" name="prob_leaks" value="2"></td>
                  <td><input type="radio" name="prob_leaks" value="3"></td>
                  <td><input type="radio" name="prob_leaks" value="4"></td>
                  <td><input type="radio" name="prob_leaks" value="5"></td>
                </tr>
                <tr>
                  <td>Bugs/gnats/rodents</td>
                  <td><input type="radio" name="prob_pests" value="1" required></td>
                  <td><input type="radio" name="prob_pests" value="2"></td>
                  <td><input type="radio" name="prob_pests" value="3"></td>
                  <td><input type="radio" name="prob_pests" value="4"></td>
                  <td><input type="radio" name="prob_pests" value="5"></td>
                </tr>
                <tr>
                  <td>Having to touch a dirty lid</td>
                  <td><input type="radio" name="prob_touching_lid" value="1" required></td>
                  <td><input type="radio" name="prob_touching_lid" value="2"></td>
                  <td><input type="radio" name="prob_touching_lid" value="3"></td>
                  <td><input type="radio" name="prob_touching_lid" value="4"></td>
                  <td><input type="radio" name="prob_touching_lid" value="5"></td>
                </tr>
              </tbody>
            </table>
            <p class="muted">Scale: 1 Not a problem, 2 Slight problem, 3 Moderate, 4 Big problem, 5 Very big problem</p>
          </div>
        </fieldset>

        <fieldset>
          <legend>Which features seem useful to you? (Select all that apply)</legend>
          <div class="options">
            <label><input type="checkbox" name="features" value="Automatic lid (hands-free)" /> Automatic lid (hands-free)</label>
            <label><input type="checkbox" name="features" value="Powered odor control" /> Powered odor control (e.g., carbon filter or sealed system)</label>
            <label><input type="checkbox" name="features" value="Trash compaction" /> Trash compaction (fits more in each bag)</label>
            <label><input type="checkbox" name="features" value="Fill-level indicator or alert" /> Fill-level indicator or alert</label>
            <label><input type="checkbox" name="features" value="App reminders/notifications" /> App reminders/notifications</label>
            <label><input type="checkbox" name="features" value="Antimicrobial or easy-clean materials" /> Antimicrobial or easy-clean materials</label>
            <label><input type="checkbox" name="features" value="Child/pet lock" /> Child/pet lock</label>
            <label><input type="checkbox" name="features" value="Quiet operation" /> Quiet operation</label>
            <label><input type="checkbox" name="features" value="None of the above" id="featuresNone" /> None of the above</label>
          </div>
        </fieldset>

        <fieldset>
          <legend>If provided at no extra cost, how interested would you be in using it? *</legend>
          <div class="options">
            <label><input type="radio" name="interestLevel" value="Not at all interested" required /> Not at all interested</label>
            <label><input type="radio" name="interestLevel" value="Slightly interested" /> Slightly interested</label>
            <label><input type="radio" name="interestLevel" value="Moderately interested" /> Moderately interested</label>
            <label><input type="radio" name="interestLevel" value="Very interested" /> Very interested</label>
            <label><input type="radio" name="interestLevel" value="Extremely interested" /> Extremely interested</label>
          </div>
        </fieldset>

        <fieldset>
          <legend>If you wanted one for your space, who would typically make the decision or pay for it? *</legend>
          <div class="options">
            <label><input type="radio" name="decisionMaker" value="I would" required /> I would</label>
            <label><input type="radio" name="decisionMaker" value="We would decide/share cost (roommates/household)" /> We would decide/share cost (roommates/household)</label>
            <label><input type="radio" name="decisionMaker" value="Landlord/property manager" /> Landlord/property manager</label>
            <label><input type="radio" name="decisionMaker" value="Campus/facilities staff" /> Campus/facilities staff</label>
            <label class="other-inline">
              <input type="radio" name="decisionMaker" value="Other" /> Other (please specify):
              <input type="text" name="decisionMakerOther" placeholder="Specify other" />
            </label>
          </div>
        </fieldset>

        <fieldset>
          <legend>About how many people regularly use the main trash can in your space? *</legend>
          <div class="options">
            <label><input type="radio" name="usersCount" value="1 (just me)" required /> 1 (just me)</label>
            <label><input type="radio" name="usersCount" value="2–3 people" /> 2–3 people</label>
            <label><input type="radio" name="usersCount" value="4–5 people" /> 4–5 people</label>
            <label><input type="radio" name="usersCount" value="6 or more people" /> 6 or more people</label>
          </div>
        </fieldset>

        <label>
          <span>Open-ended: What would a “smart” trash can need to do for you to consider using it? Why?</span>
          <textarea name="openEnded" rows="4" placeholder="Your thoughts (optional)"></textarea>
        </label>

        <div class="actions">
          <button type="submit" class="primary">Submit</button>
          <button type="reset" class="secondary">Reset</button>
        </div>
        <p id="formMessage" class="message" role="status" aria-live="polite"></p>
      </form>
    </section>

    <section class="card" id="thankYouSection" style="display:none;">
      <h2>Thank You</h2>
      <p>Your response has been submitted. You can view and manage all submissions from the <a href="/admin">Admin Panel</a>.</p>
    </section>

    <!-- BEGIN: Submissions Table and Toolbar -->
    <section class="card">
      <h2>Submissions</h2>
      <div class="toolbar">
        <button id="exportJsonBtn">Export JSON</button>
        <button id="exportCsvBtn">Export CSV</button>
        <button id="clearBtn" class="danger">Clear All</button>
        <label class="consent" style="margin-left:auto">
          <input type="checkbox" id="autoJsonToggle" />
          <span>Auto-download JSON on submit</span>
        </label>
      </div>
      <div class="table-wrapper">
        <table id="resultsTable">
          <thead>
            <tr>
              <th>Timestamp</th>
              <th>Consent</th>
              <th>Student Status</th>
              <th>Responsibility</th>
              <th>Location</th>
              <th>Main Goal</th>
              <th>Problems Avg</th>
              <th>Features</th>
              <th>Interest Level</th>
              <th>Decision Maker</th>
              <th>Users Count</th>
              <th>Open Ended</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
      <p id="emptyState" class="muted">No submissions yet.</p>
    </section>
    <!-- END: Submissions Table and Toolbar -->
  </main>

  <script src="/public/script.js" defer></script>
</body>
</html>
